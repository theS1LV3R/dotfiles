#zmodload zsh/zprof

{{- if eq "wsl" .ostype }}
# WSL spesifics
export DISPLAY=$(cat /etc/resolv.conf | grep nameserver | awk '{print $2; exit;}'):0.0 #GWSL
export PULSE_SERVER=tcp:$(cat /etc/resolv.conf | grep nameserver | awk '{print $2; exit;}') #GWSL
export LIBGL_ALWAYS_INDIRECT=1 #GWSL
{{- end }}


export DOTFILES_DIR={{ .chezmoi.sourceDir }}
export SCRIPTS_DIR="$HOME/.config/zsh"

# Load antigen (Plugin manager)
source $DOTFILES_DIR/antigen/antigen.zsh

export GPG_TTY=$(tty)

# p10k (Prompt)
source $SCRIPTS_DIR/p10k.init.zsh

# Everything else zsh related
source $SCRIPTS_DIR/zsh.init.zsh

# Load custom completions
antigen bundle $DOTFILES_DIR/completions

# P10K theme
antigen theme romkatv/powerlevel10k

# Various other stuff
antigen bundle zsh-users/zsh-syntax-highlighting
antigen bundle zsh-users/zsh-autosuggestions
antigen bundle zsh-users/zsh-completions
antigen bundle pip
antigen bundle aws
antigen bundle command-not-found
antigen bundle docker-compose
antigen bundle docker
antigen bundle node
antigen bundle gitignore
antigen bundle git
antigen bundle aliases
antigen bundle archlinux

antigen apply
